Chronos adalah sebuah eksplorasi rekayasa sistem untuk membangun database SQL terdistribusi yang fault-tolerant dari nol, sepenuhnya menggunakan Rust. Proyek ini mengimplementasikan algoritma konsensus Raft untuk mengatasi tantangan fundamental dalam konsistensi data di banyak mesin (multi-node). Terinspirasi oleh arsitektur Google Spanner dan CockroachDB, Chronos adalah sebuah deep dive ke dalam rekayasa first-principles.

Ini adalah roadmap untuk membangun mahakarya lo, dipecah menjadi fase-fase yang bisa dieksekusi.

FASE 1: THE SINGLE-NODE ENGINE (Target: Bulan 1)
(Tujuan: Membangun database SQL yang fungsional di satu mesin. Lupakan dulu soal terdistribusi.)

[ ] Milestone 1.1: The SQL Parser

[ ] Inisialisasi proyek Rust.

[ ] Pilih dan implementasikan parsing library (misal: pest atau nom).

[ ] Buat aturan parsing untuk perintah SQL dasar: CREATE TABLE, INSERT INTO, dan SELECT * FROM.

[ ] Milestone 1.2: The Execution Engine

[ ] Buat struct atau enum untuk merepresentasikan perintah SQL yang sudah di-parse (AST - Abstract Syntax Tree).

[ ] Tulis logika executor yang bisa menerima AST dan melakukan aksi (misal: "oke, ini perintah CREATE TABLE, berarti saya harus panggil modul storage").

[ ] Milestone 1.3: The Simple Storage Engine

[ ] Rancang cara penyimpanan data yang paling sederhana. Contoh: setiap tabel adalah satu file CSV (users.csv).

[ ] Implementasikan fungsi untuk: membuat file baru (CREATE), menambah baris ke file (INSERT), dan membaca semua baris dari file (SELECT).

[ ] Milestone 1.4: The REPL (Command Line)

[ ] Buat loop interaktif sederhana di main.rs yang menerima input SQL dari pengguna, mengirimnya ke parser -> executor -> storage, lalu menampilkan hasilnya.

FASE 2: THE DISTRIBUTED ENGINE (Target: Bulan 2-3)
(Tujuan: Mengubah database lokal lo menjadi 'monster' terdistribusi yang tangguh.)

[ ] Milestone 2.1: Implementasi Konsensus RAFT

[ ] Buat modul baru untuk logika konsensus RAFT.

[ ] Implementasikan algoritma Leader Election.

[ ] Implementasikan Log Replication.

[ ] Milestone 2.2: Networking Layer (gRPC)

[ ] Definisikan protokol komunikasi antar node menggunakan Protocol Buffers.

[ ] Implementasikan server dan klien gRPC agar node-node bisa "ngobrol" (meminta suara, mengirim log entry).

[ ] Milestone 2.3: Integrasi RAFT ke State Machine

[ ] Ubah execution engine lo. Sekarang, perintah SQL tidak langsung dieksekusi.

[ ] Perintah SQL harus dikirim ke leader RAFT, direplikasi ke mayoritas node, dan setelah "disepakati" (committed), baru dieksekusi di storage engine oleh setiap node.

FASE 3: ADVANCED FEATURES (Target: Bulan 4-5)
(Tujuan: Menambahkan fitur-fitur yang membuat database lo terasa 'nyata'.)

[ ] Milestone 3.1: Transaction Support (ACID)

[ ] Implementasikan perintah BEGIN, COMMIT, dan ROLLBACK.

[ ] Pastikan serangkaian perintah di dalam satu transaksi hanya akan dieksekusi jika COMMIT berhasil.

[ ] Milestone 3.2: Indexing

[ ] Rancang mekanisme indexing sederhana (misal: B-Tree di memori atau di file terpisah) untuk mempercepat query SELECT ... WHERE ....

[ ] Milestone 3.3: SQL yang Lebih Luas

[ ] Tambahkan dukungan untuk UPDATE dan DELETE.

[ ] (Tantangan Bonus) Implementasikan JOIN sederhana antara dua tabel.

FASE 4: OPEN SOURCE READINESS (Target: Bulan 6)
(Tujuan: Memoles proyek lo agar siap dipamerkan ke dunia.)

[ ] Milestone 4.1: Dokumentasi & Pengujian

[ ] Tulis README.md yang sangat detail menjelaskan arsitektur Chronos.

[ ] Buat unit test untuk parser dan integration test yang "menyiksa" logika RAFT (mematikan leader di tengah jalan, dll.).

[ ] Milestone 4.2: CI/CD & Rilis

[ ] Buat workflow GitHub Actions untuk menjalankan tes secara otomatis.

[ ] Siapkan proses rilis untuk binary-nya.